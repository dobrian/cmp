<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/default.min.css">
    <link rel="stylesheet" href="../../css/cmp.css">
    <title>Typing in JavaScript</title>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item">
          <a class="nav-link" href="https://dobrian.github.io/cmp">Computer Music Programming</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../../topics.html">Topics</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="0.introduction-to-html-and-js.html">Introduction to HTML and JavaScript</a>
        </li>
      </ul>
    </nav>
    <div class="container">

<h1>Typing in JavaScript</h1>

      <div id="video-script" class="row">
        <div id="video" class="col">
          <video controls
                 src="4.typing-in-javascript.mp4"
                 width="100%"
                 height="100%"
                 >
        </div>
        <div id="script" class="col">
          <button id="toggle-script" type="button" class="btn btn-primary">Show/Hide Text</button>
          <div id="script-text" style="display: none; overflow-y: scroll">

<h3>Static vs. Dynamic Typing</h3>

<p>JavaScript is a dynamically-typed language.  This means that you don't have to
specify a variable's data type when you declare it, for example with an <code>int</code>,
<code>string</code>, <code>array</code>, etc.  Furthermore, you can even <em>change</em> a variable's data
type on-the-fly.  This behavior will be familiar to programmers who know other
dynamically-typed languages like Python or Ruby, but strange to those who only
know statically-typed languages like Java or C#.</p>

<p>There is a bit of a rivalry between advocates of statically-typed and
dynamically-typed languages.  Advocates of statically-typed languages argue
that declaring types beforehand helps eliminate type-related bugs, and ensures
the final product is faster and more efficient.  Advocates of dynamically-typed
languages appreciate how much quicker it is to prototype and rapidly-iterate
their code, and they argue the risk of type-related bugs is overstated.  My own
view is that you should pick the right language for the job, whether that be
statically- or dynamically-typed.  Since JavaScript's Web Audio API is
excellent for dealing with audio, we use JavaScript, regardless of the merits
of its typing.</p>

<h3>Strong vs. Weak Typing</h3>

<p>Even though Python and Ruby are dynamically-typed languages, they are also
strongly-typed languages.  This means that if a function or operator expects
one type, and receives data of a different type, the program will throw an
error.  JavaScript, on the other hand, is weakly-typed, which means that if a
function or operator expects one type, it will <em>forcefully</em> and <em>secretly</em> cast
whatever it receives to that type.  While at first this may seem like a welcome
convenience, in practice it introduces a cavalcade of unwanted and hard-to-spot
bugs.</p>

<p>Here's an example: the number <code>4</code> <em>times</em> the string <code>"2"</code> gives you the
<em>number</em> <code>8</code>.  However, the number <code>4</code> <em>plus</em> the string <code>"2"</code> gives you the
<em>string</em> <code>"42"</code>.  JavaScript gives you no warning these type conversions have
taken place.  This trap is particularly easy to fall into when asking a user to
type in a number in a form on a web page.  Since web forms spit out strings by
default, you'll need to remember to specifically cast user responses to
integers.  For this, use the
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number#Convert_numeric_strings_to_numbers"><code>Number()</code></a>
function.</p>

<h3><code>==</code> vs. <code>===</code></h3>

<p>Another unfortunate aspect of JavaScript's weak typing system is the <code>==</code> or
"double-equals" operator.  <em>Double-equals will also cast its operands.</em>  This
leads to some truly bonkers equivalencies, from the more benign <code>"2" == 2</code>, to
the crazier <code>false == "0"</code> and <code>"  \t\t\r\n    " == 0</code>.  Double-equals also
lacks transitivity: <code>false == undefined</code> is false, <code>false == null</code> is false,
but <code>null == undefined</code> is true.</p>

<p>Luckily, JavaScript provides alternatives to this madness: <code>===</code> and its
opposite, <code>!==</code>, which act just like <code>==</code> and <code>!=</code> in every other language.
You should exclusively use the triple-equals operators in your code.</p>

          </div>
        </div>
      </div>

<h2>Vocabulary</h2>

<ul>
<li>static vs. dynamic typing</li>
<li>strong vs. weak typing</li>
</ul>

<h2>Additional Resources</h2>

<ul>
<li>A fantastic (albeit biased) summary of programming language styles and
philosophies:
<a href="https://plus.google.com/110981030061712822816/posts/KaSKeg4vQtz">https://plus.google.com/110981030061712822816/posts/KaSKeg4vQtz</a></li>
<li>A short talk about the idiocy of JavaScript's weak typing system, featuring
memes that were cool circa 2012:
<a href="https://www.destroyallsoftware.com/talks/wat">https://www.destroyallsoftware.com/talks/wat</a>
(the JavaScript portion starts at 1:20)</li>
</ul>


    </div>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js"></script>
    <script>
    //$('pre').addClass("javascript");
    hljs.initHighlightingOnLoad();
    </script>
    <script src="../../js/cmp.js"></script>
  </body>
</html>
