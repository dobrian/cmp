<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <!--<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/default.min.css">-->
    <link rel="stylesheet" href="../../static/css/cmp.css">
    <title>Classic Waveforms as LFOs</title>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item">
          <a class="nav-link" href="https://dobrian.github.io/cmp">Computer Music Programming</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://dobrian.github.io/cmp/topics.html">Topics</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="0.index.html">Control Signals</a>
        </li>
      </ul>
    </nav>
    <div class="container">

<h1>Classic Waveforms as LFOs</h1>

<p>An <a href="https://en.wikipedia.org/wiki/Electronic_oscillator">oscillator</a>, in terms of analog electronics, is a circuit that produces a periodic waveform. When the frequency of a an oscillator is within the <a href="https://en.wikipedia.org/wiki/Hearing_range">range of human hearing</a> (~20Hz-20kHz) we call that "audio rate" because we can hear it. When the frequency of an oscillator is below our range of hearing (&lt;20Hz) they are referred to as low-frequency oscillators or LFOs. Instead of "making sound" these types of oscillators are used as "control signals." In other words, their output is mapped to some other parameter of another oscillator or effect you may want to automatically control or change.</p>

<p>There are certain wave types that are historically used in electronic music, known as "classic" waveforms: sine, sawtooth, square, and triangle. These are the four waveforms generated by the classic Moog synthesizer oscillators, and are still quite useful in computer music.</p>

<p>The sine wave has energy at only one frequency. The sawtooth wave has energy at all harmonics of the fundamental frequency, and the relative amplitude of each harmonic is proportional to the inverse of the harmonic number, e.g., 1/1, 1/2, 1/3, 1/4, etc. The square wave has energy only at the odd harmonics of the fundamental frequency, and the relative amplitude of each harmonic is proportional to the inverse of the harmonic number, e.g., 1/1, 1/3, 1/5, 1/7, etc. The triangle wave has energy only at the odd harmonics of the fundamental frequency, and the relative amplitude of each harmonic is proportional to the inverse of the square of the harmonic number, e.g., 1/1, 1/9, 1/25, 1/49, etc.</p>

<p>Open the patch "Basic LFOs"
<img src="basiclfos1.png"></p>

<p>This patch shows how to synthesize those classic waveforms in Max. A very important object for doing this is <strong>phasor~</strong>. The <strong>phasor~</strong> object produces a signal that goes from 0 to (almost!) 1 over and over at a specified rate. (When it gets to a point that would be 1 or more, it wraps back around into the 0-to-0.999999 range.) Thus, with just a little arithmetic, it's very useful for reading through a <strong>buffer~</strong> of stored data or for generating other control signal shapes.</p>

<p>In this patch, a single <strong>phasor~</strong> is used to a) control the phase offset of a 0 Hz <strong>cycle~</strong>, which essentially means that it's reading through a stored wavetable containing the shape of one cycle of a cosine wave, b) make an idealized sawtooth waveform (which is what it does all by itself), c) make a triangle wave by going up to, and folding back down from, its maximum at a designated point in each cycle, and d) make an idealized square wave with a simple logic operator that sends out either 1 or 0 based on the specified condition. We're using an inaudible frequency of 2 Hz for the <strong>phasor~</strong> so that the waveforms will be displayed well in the <strong>scope~</strong> objects.</p>

<p>With just a little more arithmetic (usually just one multiplication and one addition) you can adjust the range of these shapes to be any size you want, as shown in the middle row of graphs. Thus, you could use these shapes to control anything you want, such as frequency in Hertz, for example.</p>

<p>Although these waveforms are fine to use as control signals, they're not always the best choice to actually listen to. That's because the ideal sawtooth, square, and triangle waveforms have a theoretically infinite number of harmonic partials. If we listen to them at fairly high fundamental frequencies, the upper partials are likely to be folded back over due to aliasing, creating an inharmonic spectrum. For that reason, if you actually want to listen to those waveforms, it's better to use the <strong>saw~</strong>, <strong>tri~</strong>, and <strong>rect~</strong> objects. They use special formulae to calculate a waveform that will have essentially the right spectral content up to the <a href="https://en.wikipedia.org/wiki/Nyquist_frequency">Nyquist frequency</a>, but will not produce significant energy at frequencies that exceed the Nyquist frequency. They don't have the same shape as the ideal forms of those wave types, but they sound the same and aren't subject to aliasing. Use those for listening, and use the idealized waveforms for control signals.</p>

<p>Take a look at the patch "LFO Demo" to see how you could patch together multiple LFOs and easily switch between them. This could be handy in the context of creating a modular synthesizer in Max. </p>

<h2>Downloads</h2>

<p>Download the files used in the above examples by right-clicking the links, and
then selecting "Save Link As...".</p>

<ul>
<li><a href="Basic LFOs.maxpat">Basic LFOs.maxpat</a></li>
<li><a href="LFO Demo.maxpat">LFO Demo.maxpat</a></li>
</ul>

<h1>Vocabulary</h1>

<ul>
<li>oscillator</li>
<li>LFO</li>
<li>sine wave</li>
<li>sawtooth wave</li>
<li>square wave</li>
<li>triangle wave</li>
</ul>


    </div>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
    <!--<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js"></script>
    <script>
    //$('pre').addClass("javascript");
    hljs.initHighlightingOnLoad();
    </script>-->
    <script src="../../static/js/cmp.js"></script>
  </body>
</html>
