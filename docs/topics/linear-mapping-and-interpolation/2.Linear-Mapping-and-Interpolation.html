<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <!--<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/default.min.css">-->
    <link rel="stylesheet" href="https://dobrian.github.io/cmp/static/css/cmp.css">
    <title>Linear Mapping and Interpolation</title>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item">
          <a class="nav-link" href="https://dobrian.github.io/cmp">Computer Music Programming</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://dobrian.github.io/cmp/topics.html">Topics</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="0.index.html">Linear Mapping and Interpolation</a>
        </li>
      </ul>
    </nav>
    <div class="container">

<h1>Linear Mapping and Interpolation</h1>


      <div id="video-script" class="row">
        <div id="video" class="col">
          <video controls
                 src="linearmapping.mp4"
                 width="100%"
                 height="100%"
                 >
        </div>
      </div>

<p>Open the patch "linearmapping".</p>

<p><img src="linearmappingpatch.png"></p>

<p>This patch shows examples of linear mapping and linear interpolation. First, be sure you have downloaded the <strong>lmap</strong> abstraction from the previous lesson. One could substitute the built-in Max object scale in place of <strong>lmap</strong> with the same results.</p>

<p>As shown in the upper-left corner, with no arguments typed in <strong>lmap</strong> maps input values 0 to 127 (such as MIDI control data) into the range 0.0 to 1.0 (just as the <strong>scale</strong> object does by default). The output range 0.0 to 1.0 is useful for controlling the parameters of a lot of MSP objects, and it's also a range that can be re-mapped to any other range with simple scaling and/or offsetting (multiplication and/or addition). If we open up the <strong>lamp</strong> abstraction, we see that inlets 2 and 3 correspond to our input low and high values while inlets 4 and 5 are our target output values.</p>

<p>Just below that is a mundane example of how linear mapping applies to common everyday conversion, such as converting temperatures from Fahrenheit to Celcius.</p>

<p>You can use linear mapping to step through any range in a specific number of N steps, just by setting an input range from 1 to N and providing input x values that count from 1 to N. This is demonstrated by the part of the patch labeled "go from A to B in N steps”. In effect, this is linear interpolation from A to B, since each step along the way will produce a corresponding intermediate value.</p>

<p>The part of the patch just above that demonstrates we have another case of the relationship between "mapping" and "interpolation". The <strong>counter</strong> object counts cyclically in 360 steps from 0 to 359 (i.e., from 0 to almost 360), and we map the range 0 to 360 (the number of degrees in a circle) onto the output range 0 to 2π (the number of radians in a circle). Thus we're able to go continually from 0 to (almost) 2π by degrees. (We then map that value with an inverse relationship in order to cause the <strong>dial</strong> to show the radial angle changing counterclockwise as it would be graphed in Cartesian trigonometry. Setting ymin to be greater than ymax causes such an opposite mapping.)</p>

<p>You’ll also want to check out these objects: <strong>zmap</strong>, <strong>scale</strong>, and <strong>expr</strong>. In addition, the Max objects <strong>line</strong>, <strong>line~</strong>, and <strong>bline</strong> offer three methods for linear interpolation within a single object.</p>


<h2>Downloads</h2>

<p>Download the files used in the above examples by right-clicking the links, and
then selecting "Save Link As...".</p>

<ul>
<li><a href="linearmapping.maxpat">linearmapping.maxpat</a></li>
</ul>

<h1>Vocabulary</h1>

<ul>
<li>mapping</li>
<li>interpolation</li>
</ul>

<h1>Max Objects</h1>

<ul>
<li><strong>lmap</strong></li>
<li><strong>scale</strong></li>
<li><strong>counter</strong></li>
<li><strong>dial</strong></li>
</ul>

<h1>Additional Resources</h1>

<ul>
<li><a href="https://en.wikipedia.org/wiki/Linear_interpolation">Linear Interpolation Wikipedia</a></li>
<li><a href="http://sites.uci.edu/camp2014/2014/04/18/linear-control-function/">Linear Control Function</a></li>
</ul>


    </div>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
    <!--<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js"></script>
    <script>
    //$('pre').addClass("javascript");
    hljs.initHighlightingOnLoad();
    </script>-->
    <script src="https://dobrian.github.io/cmp/static/js/cmp.js"></script>
  </body>
</html>
