### Controllers

Once we've built our synthesizer, we need a way to control it.  In Max, you can
use the **ctlin** or **midiin** objects to hook into an external device like a
MIDI keyboard or drum pad.  There actually exists a way to do this in
JavaScript as well, by using the Web MIDI API.  Unfortunately, at the time of
this recording in March 2019, the Web MIDI API is not widely implemented among
browsers, only usable in Google Chrome.

So, instead of MIDI, let's use the computer keyboard to control notes.  You can
use the events `"keyup"` and `"keydown"` to track the keyboard movements.
Here's how to track these motions with jQuery.

	$(document).keydown((event) => {
	  let asciiValue = event.which;
	});

Let's play a middle C whenever the "c" key is pressed.  The ASCII value of "c"
is 67, and the frequency of middle C is 261.63 Hz.

	const audioCtx = new AudioContext();

	const oscillator = audioCtx.createOscillator();
	oscillator.frequency.value = 261.63;
	const oscillatorGain = audioCtx.createGain();
	oscillatorGain.gainconnect(audioCtx.destination);

	oscillator.connect(oscillatorGain);
	oscillatorGain.connect(audioCtx.destination);
	oscillator.start();

	const playMiddleC = () => {
	  oscillator.linearRampToValueAtTime(0, audioCtx.currentTime + 1);
// stop
	};
	
	$(document).keyup((event) => {
	  if (event.which === 67) {
	    playMiddleC();
	  }
	});


### Additional Resources

- If you'd like to learn about Web MIDI API:
  - here is a [simple tutorial](https://www.keithmcmillen.com/blog/making-music-in-the-browser-web-midi-api/).
  - here is a [more advanced tutorial](https://www.smashingmagazine.com/2018/03/web-midi-api/).
  - here is the [official spec](https://www.w3.org/TR/webmidi/).
- To look up the relationship between keyboard characters and numbers, look up
  the [ASCII table](http://www.asciitable.com/).
